---
import { EMAIL, LINKS } from "@/consts/links";
import { getLangFromUrl, useTranslations } from "@/i18n/ui";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentYear = new Date().getFullYear();

// Crear enlaces de navegación traducidos
const footerNav = [
  { title: t('nav.experience'), label: "experiencia", url: "#experience" },
  { title: t('nav.projects'), label: "proyectos", url: "#projects" },
];
---

<footer
  class="opacity-80 mx-4 mt-12 md:mt-16 w-full max-w-4xl md:mx-auto mb-6 md:mb-10 flex justify-center px-2 md:px-4"
>
  <div
    class="rounded-lg w-full max-w-screen-xl mx-auto flex flex-col md:flex-row md:items-center md:justify-between py-3 md:py-4 gap-3 md:gap-0"
  >
    <div class="text-center md:text-left">
      <span
        class="text-xs sm:text-sm text-zinc-800/90 dark:text-zinc-200/90 block"
      >
        &copy; {currentYear}
        {
          LINKS.map(({ title, label, url }, index) => (
            <>
              <a
                href={url}
                class="hover:underline hover:font-semibold mx-1 inline-block"
                aria-label={label}
              >
                {title}
              </a>
              {index < LINKS.length - 1 && (
                <span class="text-zinc-400 mx-1">•</span>
              )}
            </>
          ))
        }
      </span>
      <p class="text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mt-1">
        {t('footer.rights')}
      </p>
    </div>

    <ul
      class="flex flex-wrap items-center justify-center md:justify-end gap-3 md:gap-4 text-xs sm:text-sm font-medium text-zinc-700 dark:text-white/90 [&_a]:hover:underline [&_a]:hover:text-blue-500 dark:[&_a]:hover:text-blue-400 [&_a]:transition-colors"
    >
      {footerNav.map(({ title, label, url }) => (
        <li>
          <a href={url} aria-label={label}>
            {title}
          </a>
        </li>
      ))}
      <li>
        <a href={EMAIL.url} aria-label={EMAIL.label}>
          {EMAIL.title}
        </a>
      </li>
    </ul>
  </div>
</footer>
